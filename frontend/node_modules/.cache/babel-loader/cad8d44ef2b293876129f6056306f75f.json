{"ast":null,"code":"import'./App.css';import React,{useContext}from'react';import{BrowserRouter,Routes,Route}from'react-router-dom';import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import HomePage from'./pages/HomePage';import ProductPage from'./pages/ProductPage';import{Navbar,Container,Nav,Badge,NavDropdown}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import{Link}from'react-router-dom';import{Store}from'./Store';import CartPage from'./pages/CartPage';import SigninPage from'./pages/SigninPage';import ShippingAddressPage from'./pages/ShippingAddressPage';import SignupPage from'./pages/SignupPage';import PaymentMethodPage from'./pages/PaymentMethodPage';import PlaceOrderPage from'./pages/PlaceOrderPage';import OrderPage from'./pages/OrderPage';import OrderHistoryPage from'./pages/OrderHistoryPage';import ProfilePage from'./pages/ProfilePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useContext=useContext(Store),state=_useContext.state,ctxDispatch=_useContext.dispatch;var cart=state.cart,userInfo=state.userInfo;var signoutHandler=function signoutHandler(){ctxDispatch({type:'USER_SIGNOUT'});localStorage.removeItem('userInfo');localStorage.removeItem('shippingAddress');localStorage.removeItem('paymentMethod');window.location.href='/signin';};return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column site-container\",children:[/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:'',limit:1}),/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(Navbar,{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsx(Navbar.Brand,{children:\"Full eshop\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"ms-auto\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-cart-shopping\"}),\" Panier\",' ',cart.cartItems.length>0&&/*#__PURE__*/_jsx(Badge,{pill:true,bg:\"danger\",children:cart.cartItems.reduce(function(a,c){return a+c.quantity;},0)})]}),userInfo?/*#__PURE__*/_jsxs(NavDropdown,{title:userInfo.lastName+' '+userInfo.firstName,id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/profile\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Profil\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/orderhistory\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Historique de commandes\"})}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"#signout\",onClick:signoutHandler,children:\"D\\xE9connexion\"})]}):/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/signin\",children:\"Connexion\"})]})})]})})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Container,{className:\"mt-5\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/product/:slug\",element:/*#__PURE__*/_jsx(ProductPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(SigninPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignupPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProfilePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shipping\",element:/*#__PURE__*/_jsx(ShippingAddressPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/payment\",element:/*#__PURE__*/_jsx(PaymentMethodPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/placeorder\",element:/*#__PURE__*/_jsx(PlaceOrderPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/order/:id\",element:/*#__PURE__*/_jsx(OrderPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/orderhistory\",element:/*#__PURE__*/_jsx(OrderHistoryPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})})]})})}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"All right reserved\"})})]})});}export default App;","map":{"version":3,"names":["React","useContext","BrowserRouter","Routes","Route","ToastContainer","HomePage","ProductPage","Navbar","Container","Nav","Badge","NavDropdown","LinkContainer","Link","Store","CartPage","SigninPage","ShippingAddressPage","SignupPage","PaymentMethodPage","PlaceOrderPage","OrderPage","OrderHistoryPage","ProfilePage","App","state","ctxDispatch","dispatch","cart","userInfo","signoutHandler","type","localStorage","removeItem","window","location","href","cartItems","length","reduce","a","c","quantity","lastName","firstName"],"sources":["C:/Users/Dev/Desktop/FullEshop/frontend/src/App.js"],"sourcesContent":["import './App.css';\r\nimport React, { useContext } from 'react';\r\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport HomePage from './pages/HomePage';\r\nimport ProductPage from './pages/ProductPage';\r\nimport { Navbar, Container, Nav, Badge, NavDropdown } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Store } from './Store';\r\nimport CartPage from './pages/CartPage';\r\nimport SigninPage from './pages/SigninPage';\r\nimport ShippingAddressPage from './pages/ShippingAddressPage';\r\nimport SignupPage from './pages/SignupPage';\r\nimport PaymentMethodPage from './pages/PaymentMethodPage';\r\nimport PlaceOrderPage from './pages/PlaceOrderPage';\r\nimport OrderPage from './pages/OrderPage';\r\nimport OrderHistoryPage from './pages/OrderHistoryPage';\r\nimport ProfilePage from './pages/ProfilePage';\r\n\r\nfunction App() {\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { cart, userInfo } = state;\r\n\r\n  const signoutHandler = () => {\r\n    ctxDispatch({ type: 'USER_SIGNOUT' });\r\n    localStorage.removeItem('userInfo');\r\n    localStorage.removeItem('shippingAddress');\r\n    localStorage.removeItem('paymentMethod');\r\n    window.location.href = '/signin';\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"d-flex flex-column site-container\">\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={''}\r\n          limit={1}\r\n        ></ToastContainer>\r\n        <header>\r\n          <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n            <Container>\r\n              <LinkContainer to=\"/\">\r\n                <Navbar.Brand>Full eshop</Navbar.Brand>\r\n              </LinkContainer>\r\n              <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n              <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                <Nav className=\"ms-auto\">\r\n                  <Link to=\"/cart\" className=\"nav-link\">\r\n                    <i className=\"fa-solid fa-cart-shopping\"></i> Panier{' '}\r\n                    {cart.cartItems.length > 0 && (\r\n                      <Badge pill bg=\"danger\">\r\n                        {cart.cartItems.reduce((a, c) => a + c.quantity, 0)}\r\n                      </Badge>\r\n                    )}\r\n                  </Link>\r\n                  {userInfo ? (\r\n                    <NavDropdown\r\n                      title={userInfo.lastName + ' ' + userInfo.firstName}\r\n                      id=\"basic-nav-dropdown\"\r\n                    >\r\n                      <LinkContainer to=\"/profile\">\r\n                        <NavDropdown.Item>Profil</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/orderhistory\">\r\n                        <NavDropdown.Item>\r\n                          Historique de commandes\r\n                        </NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <NavDropdown.Divider />\r\n                      <Link\r\n                        className=\"dropdown-item\"\r\n                        to=\"#signout\"\r\n                        onClick={signoutHandler}\r\n                      >\r\n                        DÃ©connexion\r\n                      </Link>\r\n                    </NavDropdown>\r\n                  ) : (\r\n                    <Link className=\"nav-link\" to=\"/signin\">\r\n                      Connexion\r\n                    </Link>\r\n                  )}\r\n                </Nav>\r\n              </Navbar.Collapse>\r\n            </Container>\r\n          </Navbar>\r\n        </header>\r\n        <main>\r\n          <Container className=\"mt-5\">\r\n            <Routes>\r\n              <Route path=\"/product/:slug\" element={<ProductPage />} />\r\n              <Route path=\"/cart\" element={<CartPage />} />\r\n              <Route path=\"/signin\" element={<SigninPage />} />\r\n              <Route path=\"/signup\" element={<SignupPage />} />\r\n              <Route path=\"/profile\" element={<ProfilePage />} />\r\n              <Route path=\"/shipping\" element={<ShippingAddressPage />} />\r\n              <Route path=\"/payment\" element={<PaymentMethodPage />} />\r\n              <Route path=\"/placeorder\" element={<PlaceOrderPage />} />\r\n              <Route path=\"/order/:id\" element={<OrderPage />} />\r\n              <Route path=\"/orderhistory\" element={<OrderHistoryPage />} />\r\n              <Route path=\"/\" element={<HomePage />} />\r\n            </Routes>\r\n          </Container>\r\n        </main>\r\n        <footer>\r\n          <div className=\"text-center\">All right reserved</div>\r\n        </footer>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}