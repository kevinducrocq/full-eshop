{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Dev\\\\Desktop\\\\FullEshop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dev\\\\Desktop\\\\FullEshop\\\\frontend\\\\src\\\\pages\\\\PaymentMethodPage.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { Helmet } from 'react-helmet-async';\nimport { useNavigate } from 'react-router-dom';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { Store } from '../Store';\nexport default function PaymentMethodPage() {\n  var navigate = useNavigate();\n\n  var _useContext = useContext(Store),\n      state = _useContext.state,\n      ctxDispatch = _useContext.dispatch;\n\n  var _state$cart = state.cart,\n      shippingAddress = _state$cart.shippingAddress,\n      paymentMethod = _state$cart.paymentMethod;\n\n  var _useState = useState(paymentMethod || 'Paypal'),\n      _useState2 = _slicedToArray(_useState, 2),\n      paymentMethodName = _useState2[0],\n      setPaymentMethod = _useState2[1];\n\n  useEffect(function () {\n    if (!shippingAddress.address) {\n      navigate('/shipping');\n    }\n  }, [shippingAddress, navigate]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    ctxDispatch({\n      type: 'SAVE_PAYMENT_METHOD',\n      payload: paymentMethodName\n    });\n    localStorage.setItem('paymentMethod', paymentMethodName);\n    navigate('/placeorder');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutSteps, {\n    step1: true,\n    step2: true,\n    step3: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container small-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"M\\xE9thode de paiement\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"M\\xE9thode de paiement\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"radio\",\n    id: \"PayPal\",\n    value: \"PayPal\",\n    checked: paymentMethodName === 'PayPal',\n    onChange: function onChange(e) {\n      return setPaymentMethod(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"../images/580b57fcd9996e24bc43c530.png\",\n    alt: \"\",\n    className: \"img-fluid\",\n    width: \"50%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"radio\",\n    id: \"Stripe\",\n    value: \"Stripe\",\n    checked: paymentMethodName === 'Stripe',\n    onChange: function onChange(e) {\n      return setPaymentMethod(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"../images/logo-stripe.webp\",\n    alt: \"\",\n    className: \"img-fluid\",\n    width: \"50%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Continuer\")))));\n}","map":{"version":3,"names":["React","useContext","useEffect","useState","Button","Form","Helmet","useNavigate","CheckoutSteps","Store","PaymentMethodPage","navigate","state","ctxDispatch","dispatch","cart","shippingAddress","paymentMethod","paymentMethodName","setPaymentMethod","address","submitHandler","e","preventDefault","type","payload","localStorage","setItem","target","value"],"sources":["C:/Users/Dev/Desktop/FullEshop/frontend/src/pages/PaymentMethodPage.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { Store } from '../Store';\r\n\r\nexport default function PaymentMethodPage() {\r\n  const navigate = useNavigate();\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n\r\n  const {\r\n    cart: { shippingAddress, paymentMethod },\r\n  } = state;\r\n\r\n  const [paymentMethodName, setPaymentMethod] = useState(\r\n    paymentMethod || 'Paypal'\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!shippingAddress.address) {\r\n      navigate('/shipping');\r\n    }\r\n  }, [shippingAddress, navigate]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    ctxDispatch({ type: 'SAVE_PAYMENT_METHOD', payload: paymentMethodName });\r\n    localStorage.setItem('paymentMethod', paymentMethodName);\r\n    navigate('/placeorder');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n      <div className=\"container small-container\">\r\n        <Helmet>Méthode de paiement</Helmet>\r\n        <h1 className=\"my-5\">Méthode de paiement</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          <div className=\"mb-3\">\r\n            <div className=\"d-flex align-items-center my-3\">\r\n              <Form.Check\r\n                type=\"radio\"\r\n                id=\"PayPal\"\r\n                value=\"PayPal\"\r\n                checked={paymentMethodName === 'PayPal'}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n              />\r\n              <img\r\n                src=\"../images/580b57fcd9996e24bc43c530.png\"\r\n                alt=\"\"\r\n                className=\"img-fluid\"\r\n                width=\"50%\"\r\n              />\r\n            </div>\r\n            <div className=\"d-flex align-items-center my-5\">\r\n              <Form.Check\r\n                type=\"radio\"\r\n                id=\"Stripe\"\r\n                value=\"Stripe\"\r\n                checked={paymentMethodName === 'Stripe'}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n              />\r\n              <img\r\n                src=\"../images/logo-stripe.webp\"\r\n                alt=\"\"\r\n                className=\"img-fluid\"\r\n                width=\"50%\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <Button type=\"submit\">Continuer</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}