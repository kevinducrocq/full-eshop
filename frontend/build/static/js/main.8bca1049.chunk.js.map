{"version":3,"sources":["components/LoadingBox.js","components/MessageBox.js","Store.js","components/Rating.js","components/Product.js","pages/HomePage.js","utils.js","pages/ProductPage.js","pages/CartPage.js","pages/SigninPage.js","components/CheckoutSteps.js","pages/ShippingAddressPage.js","pages/SignupPage.js","pages/PaymentMethodPage.js","pages/PlaceOrderPage.js","pages/OrderPage.js","pages/OrderHistoryPage.js","pages/ProfilePage.js","components/SearchBox.js","pages/SearchPage.js","components/ProtectedRoute.js","pages/DashboardPage.js","components/AdminRoute.js","pages/ProductListPage.js","pages/ProductEditPage.js","pages/OrderListPage.js","pages/UserListPage.js","pages/UserEditPage.js","pages/MapPage.js","App.js","reportWebVitals.js","index.js"],"names":["LoadingBox","react_default","a","createElement","Spinner","animation","role","className","MessageBox","props","Alert","variant","children","Store","createContext","initialState","fullBox","userInfo","localStorage","getItem","JSON","parse","cart","shippingAddress","location","paymentMethod","cartItems","reducer","state","action","type","Object","objectSpread","newItem","payload","existItem","find","item","_id","map","concat","toConsumableArray","setItem","stringify","filter","StoreProvider","_useReducer","useReducer","_useReducer2","slicedToArray","value","dispatch","Provider","Rating","rating","numReviews","caption","Product","product","_useContext","useContext","ctxDispatch","addToCartHandler","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","quantity","wrap","_context","prev","next","x","axios","get","sent","data","countInStock","window","alert","abrupt","stop","_x","apply","this","arguments","Card","key","slug","react_router_dom","to","src","image","alt","name","Body","Title","components_Rating","Text","price","Button","disabled","onClick","loading","products","error","HomePage","_useReducer2$","useEffect","HomePage_regeneratorRuntime","result","t0","message","fetchData","index_module","Row","Col","sm","md","lg","components_Product","getError","response","loadingCreateReview","ProductScreen","reviewsRef","useRef","_useState","useState","_useState2","setRating","_useState3","_useState4","comment","setComment","_useState5","_useState6","selectedImage","setSelectedImage","navigate","useNavigate","useParams","ProductPage_regeneratorRuntime","_ref2","_callee2","_context2","submitHandler","_ref3","_callee3","e","_yield$axios$post","_context3","preventDefault","toast","post","firstName","headers","Authorization","token","success","reviews","unshift","review","scrollTo","behavior","top","current","offsetTop","ListGroup","Item","xs","images","Img","description","Badge","bg","ref","length","createdAt","substring","onSubmit","Form","Group","controlId","Label","Select","aria-label","onChange","target","FloatingLabel","label","Control","as","placeholder","CartPage","updateCartHandler","CartPage_regeneratorRuntime","_yield$axios$get","_x2","autoClose","removeItemHandler","reduce","c","SigninPage","search","useLocation","redirectInUrl","URLSearchParams","redirect","email","setEmail","password","setPassword","SigninPage_regeneratorRuntime","Container","required","CheckoutSteps","step1","step2","step3","step4","ShippingAddressScreen","fullName","setFullName","address","setAddress","city","setCity","_useState7","postalCode","_useState8","setPostalCode","_useState9","country","_useState10","setCountry","id","lat","lng","SignupPage","setFirstName","lastName","setLastName","confirmPassword","setConfirmPassword","SignupPage_regeneratorRuntime","PaymentMethodPage","_state$cart","paymentMethodName","setPaymentMethod","Check","checked","width","PlaceOrderPage","round2","num","Math","round","Number","EPSILON","itemsPrice","shippingPrice","taxPrice","totalPrice","placeOrderHandler","PlaceOrderPage_regeneratorRuntime","orderItems","authorization","removeItem","order","zip","toFixed","loadingPay","successPay","OrderPage","orderId","_usePayPalScriptReduc","usePayPalScriptReducer","_usePayPalScriptReduc2","isPending","paypalDispatch","fetchOrder","OrderPage_regeneratorRuntime","_yield$axios$get2","clientId","client-id","currency","loadPaypalScript","isDelivered","deliveredAt","isPaid","paidAt","react_paypal_js","createOrder","actions","create","purchase_units","amount","then","onApprove","capture","details","_yield$axios$put","_data","put","onError","err","orders","OrderHistoryPage","OrderHistoryPage_regeneratorRuntime","class","loadingUpdate","ProfilePage","ProfilePage_regeneratorRuntime","SearchBox","query","setQuery","InputGroup","FormControl","aria-describedby","page","pages","countProducts","prices","ratings","SearchScreen","sp","category","SearchPage_regeneratorRuntime","categories","setCategories","fetchCategories","getFilterUrl","filterPage","filterCategory","filterQuery","filterRating","filterPrice","sortOrder","p","r","Fragment","Array","keys","LinkContainer_default","ProtectedRoute","react_router","summary","DashboardScreen","DashboardPage_regeneratorRuntime","users","numUsers","numOrders","totalSales","dailyOrders","dist","height","chartType","loader","sales","productCategories","count","AdminRoute","isAdmin","loadingCreate","loadingDelete","successDelete","ProductListScreen","ProductListPage_regeneratorRuntime","createHandler","confirm","deleteHandler","delete","brand","loadingUpload","errorUpload","ProductEditScreen","productId","setName","setSlug","setPrice","setImage","setImages","_useState11","_useState12","setCategory","_useState13","_useState14","setCountInStock","_useState15","_useState16","setBrand","_useState17","_useState18","setDescription","ProductEditPage_regeneratorRuntime","uploadFileHandler","forImages","file","bodyFormData","files","FormData","append","Content-Type","secure_url","_x3","deleteFileHandler","_ref4","_callee4","fileName","f","_context4","console","log","_x4","_x5","OrderListPage","OrderListPage_regeneratorRuntime","user","UserListScreen","UserListPage_regeneratorRuntime","UserEditScreen","userId","setfirstName","setIsAdmin","UserEditPage_regeneratorRuntime","defaultLocation","libs","MapPage","googleApiKey","setGoogleApiKey","center","setCenter","setLocation","mapRef","placeRef","markerRef","MapPage_regeneratorRuntime","_yield$axios","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","fetch","esm","libraries","googleMapsApiKey","mapContainerStyle","zoom","onLoad","onIdle","place","onPlacesChanged","getPlaces","geometry","places","formatted_address","vicinity","googleAddressId","marker","App","sidebarIsOpen","setSidebarIsOpen","App_regeneratorRuntime","react_toastify_esm","limit","Navbar","expand","react_router_bootstrap","Brand","Toggle","aria-controls","Collapse","Nav","pill","NavDropdown","title","Divider","href","Link","path","element","ProductPage","pages_ProfilePage","pages_OrderHistoryPage","pages_HomePage","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","deferLoading","src_App"],"mappings":"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","file":"static/js/main.8bca1049.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nexport default function LoadingBox() {\r\n  return (\r\n    <Spinner animation=\"border\" role=\"status\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nexport default function MessageBox(props) {\r\n  return <Alert variant={props.variant || 'info'}>{props.children}</Alert>;\r\n}\r\n","import React, { createContext, useReducer } from 'react';\r\n\r\nexport const Store = createContext();\r\n\r\nconst initialState = {\r\n  fullBox: false,\r\n  userInfo: localStorage.getItem('userInfo')\r\n    ? JSON.parse(localStorage.getItem('userInfo'))\r\n    : null,\r\n\r\n  cart: {\r\n    shippingAddress: localStorage.getItem('shippingAddress')\r\n      ? JSON.parse(localStorage.getItem('shippingAddress'))\r\n      : { location: {} },\r\n    paymentMethod: localStorage.getItem('paymentMethod')\r\n      ? localStorage.getItem('paymentMethod')\r\n      : '',\r\n    cartItems: localStorage.getItem('cartItems')\r\n      ? JSON.parse(localStorage.getItem('cartItems'))\r\n      : [],\r\n  },\r\n};\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'SET_FULLBOX_ON':\r\n      return { ...state, fullBox: true };\r\n    case 'SET_FULLBOX_OFF':\r\n      return { ...state, fullBox: false };\r\n\r\n    case 'CART_ADD_ITEM':\r\n      // add to cart\r\n      const newItem = action.payload;\r\n      const existItem = state.cart.cartItems.find(\r\n        (item) => item._id === newItem._id\r\n      );\r\n      const cartItems = existItem\r\n        ? state.cart.cartItems.map((item) =>\r\n            item._id === existItem._id ? newItem : item\r\n          )\r\n        : [...state.cart.cartItems, newItem];\r\n      localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n      return { ...state, cart: { ...state.cart, cartItems } };\r\n    case 'CART_REMOVE_ITEM': {\r\n      const cartItems = state.cart.cartItems.filter(\r\n        (item) => item._id !== action.payload._id\r\n      );\r\n      localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n      return { ...state, cart: { ...state.cart, cartItems } };\r\n    }\r\n    case 'CART_CLEAR':\r\n      return { ...state, cart: { ...state.cart, cartItems: [] } };\r\n\r\n    case 'USER_SIGNIN':\r\n      return { ...state, userInfo: action.payload };\r\n    case 'USER_SIGNOUT':\r\n      return {\r\n        ...state,\r\n        userInfo: null,\r\n        cart: {\r\n          cartItems: [],\r\n          shippingAddress: {},\r\n          paymentMethod: '',\r\n        },\r\n      };\r\n    case 'SAVE_SHIPPING_ADDRESS':\r\n      return {\r\n        ...state,\r\n        cart: {\r\n          ...state.cart,\r\n          shippingAddress: action.payload,\r\n        },\r\n      };\r\n    case 'SAVE_SHIPPING_ADDRESS_MAP_LOCATION':\r\n      return {\r\n        ...state,\r\n        cart: {\r\n          ...state.cart,\r\n          shippingAddress: {\r\n            ...state.cart.shippingAddress,\r\n            location: action.payload,\r\n          },\r\n        },\r\n      };\r\n\r\n    case 'SAVE_PAYMENT_METHOD':\r\n      return {\r\n        ...state,\r\n        cart: { ...state.cart, paymentMethod: action.payload },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function StoreProvider(props) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const value = { state, dispatch };\r\n  return <Store.Provider value={value}>{props.children} </Store.Provider>;\r\n}\r\n","import React from 'react';\r\n\r\nfunction Rating(props) {\r\n  const { rating, numReviews, caption } = props;\r\n\r\n  return (\r\n    <div className=\"rating\">\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 1\r\n              ? 'fas fa-star'\r\n              : rating >= 0.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far-fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 2\r\n              ? 'fas fa-star'\r\n              : rating >= 1.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far-fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 3\r\n              ? 'fas fa-star'\r\n              : rating >= 2.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far-fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 4\r\n              ? 'fas fa-star'\r\n              : rating >= 3.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far-fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 5\r\n              ? 'fas fa-star'\r\n              : rating >= 4.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far-fa-star'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        {caption ? (\r\n          <span>{caption}</span>\r\n        ) : (\r\n          <span>{' ' + numReviews + ' avis'}</span>\r\n        )}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\nexport default Rating;\r\n","import axios from 'axios';\r\nimport React, { useContext } from 'react';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Store } from '../Store';\r\nimport Rating from './Rating';\r\n\r\nfunction Product(props) {\r\n  const { product } = props;\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const {\r\n    cart: { cartItems },\r\n  } = state;\r\n\r\n  const addToCartHandler = async (item) => {\r\n    const existItem = cartItems.find((x) => x._id === product._id);\r\n    const quantity = existItem ? existItem.quantity + 1 : 1;\r\n    const { data } = await axios.get(`/api/products/${item._id}`);\r\n    if (data.countInStock < quantity) {\r\n      window.alert(\r\n        \"Désolé, il n'y a plus de quantité disponible pour ce produit\"\r\n      );\r\n      return;\r\n    }\r\n    ctxDispatch({\r\n      type: 'CART_ADD_ITEM',\r\n      payload: { ...item, quantity },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card key={product.slug}>\r\n      <Link to={`/product/${product.slug}`}>\r\n        <img src={product.image} className=\"card-img-top\" alt={product.name} />\r\n      </Link>\r\n      <Card.Body>\r\n        <Link to={`/product/${product.slug}`}>\r\n          <Card.Title>{product.name}</Card.Title>\r\n        </Link>\r\n        <Rating\r\n          rating={product.rating}\r\n          numReviews={product.numReviews}\r\n        ></Rating>\r\n        <Card.Text>{product.price} &euro;</Card.Text>\r\n        {product.countInStock === 0 ? (\r\n          <Button variant=\"light\" disabled>\r\n            Epuisé\r\n          </Button>\r\n        ) : (\r\n          <Button onClick={() => addToCartHandler(product)}>\r\n            Ajouter au panier\r\n          </Button>\r\n        )}\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\nexport default Product;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useReducer } from 'react';\r\nimport { Col, Row } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport Product from '../components/Product';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return { ...state, products: action.payload, loading: false };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction HomePage() {\r\n  const [{ loading, error, products }, dispatch] = useReducer(reducer, {\r\n    products: [],\r\n    loading: true,\r\n    error: '',\r\n  });\r\n  // const [products, setProducts] = useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: 'FETCH_REQUEST' });\r\n      try {\r\n        const result = await axios.get('/api/products');\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\r\n      } catch (err) {\r\n        dispatch({ type: 'FETCH_FAIL', payload: err.message });\r\n      }\r\n      // setProducts(result.data);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <Helmet>\r\n        <title>Full Eshop</title>\r\n      </Helmet>\r\n      <h1 className=\"my-5\">Featured products</h1>\r\n      <div className=\"products\">\r\n        {loading ? (\r\n          <LoadingBox />\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <Row>\r\n            {products.map((product) => (\r\n              <Col key={product.slug} sm={6} md={4} lg={3} className=\"mb-3\">\r\n                <Product product={product}></Product>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","export const getError = (error) => {\r\n  return error.response && error.response.data.message\r\n    ? error.response.data.message\r\n    : error.message;\r\n};\r\n","import axios from 'axios';\r\nimport React, {\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  ListGroup,\r\n  Form,\r\n  Badge,\r\n  Button,\r\n} from 'react-bootstrap';\r\nimport Rating from '../components/Rating';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { getError } from '../utils';\r\nimport { Store } from '../Store';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'REFRESH_PRODUCT':\r\n      return { ...state, product: action.payload };\r\n    case 'CREATE_REQUEST':\r\n      return { ...state, loadingCreateReview: true };\r\n    case 'CREATE_SUCCESS':\r\n      return { ...state, loadingCreateReview: false };\r\n    case 'CREATE_FAIL':\r\n      return { ...state, loadingCreateReview: false };\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return { ...state, product: action.payload, loading: false };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction ProductScreen() {\r\n  let reviewsRef = useRef();\r\n\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const [selectedImage, setSelectedImage] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const { slug } = params;\r\n\r\n  const [\r\n    { loading, error, product, loadingCreateReview },\r\n    dispatch,\r\n  ] = useReducer(reducer, {\r\n    product: [],\r\n    loading: true,\r\n    error: '',\r\n  });\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: 'FETCH_REQUEST' });\r\n      try {\r\n        const result = await axios.get(`/api/products/slug/${slug}`);\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\r\n      } catch (err) {\r\n        dispatch({ type: 'FETCH_FAIL', payload: getError(err) });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [slug]);\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { cart, userInfo } = state;\r\n  const addToCartHandler = async () => {\r\n    const existItem = cart.cartItems.find((x) => x._id === product._id);\r\n    const quantity = existItem ? existItem.quantity + 1 : 1;\r\n    const { data } = await axios.get(`/api/products/${product._id}`);\r\n    if (data.countInStock < quantity) {\r\n      window.alert('Sorry. Product is out of stock');\r\n      return;\r\n    }\r\n    ctxDispatch({\r\n      type: 'CART_ADD_ITEM',\r\n      payload: { ...product, quantity },\r\n    });\r\n    navigate('/cart');\r\n  };\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (!comment || !rating) {\r\n      toast.error('Please enter comment and rating');\r\n      return;\r\n    }\r\n    try {\r\n      const { data } = await axios.post(\r\n        `/api/products/${product._id}/reviews`,\r\n        { rating, comment, name: userInfo.firstName },\r\n        {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        }\r\n      );\r\n\r\n      dispatch({\r\n        type: 'CREATE_SUCCESS',\r\n      });\r\n      toast.success('Review submitted successfully');\r\n      product.reviews.unshift(data.review);\r\n      product.numReviews = data.numReviews;\r\n      product.rating = data.rating;\r\n      dispatch({ type: 'REFRESH_PRODUCT', payload: product });\r\n      window.scrollTo({\r\n        behavior: 'smooth',\r\n        top: reviewsRef.current.offsetTop,\r\n      });\r\n    } catch (error) {\r\n      toast.error(getError(error));\r\n      dispatch({ type: 'CREATE_FAIL' });\r\n    }\r\n  };\r\n  return loading ? (\r\n    <LoadingBox />\r\n  ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n  ) : (\r\n    <div>\r\n      <Row>\r\n        <Col md={6}>\r\n          <img\r\n            className=\"img-large\"\r\n            src={selectedImage || product.image}\r\n            alt={product.name}\r\n          ></img>\r\n        </Col>\r\n        <Col md={3}>\r\n          <ListGroup variant=\"flush\">\r\n            <ListGroup.Item>\r\n              <Helmet>\r\n                <title>{product.name}</title>\r\n              </Helmet>\r\n              <h1>{product.name}</h1>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <Rating\r\n                rating={product.rating}\r\n                numReviews={product.numReviews}\r\n              ></Rating>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>Pirce : ${product.price}</ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <Row xs={1} md={2} className=\"g-2\">\r\n                {[product.image, ...product.images].map((x) => (\r\n                  <Col key={x}>\r\n                    <Card>\r\n                      <Button\r\n                        className=\"thumbnail\"\r\n                        type=\"button\"\r\n                        variant=\"light\"\r\n                        onClick={() => setSelectedImage(x)}\r\n                      >\r\n                        <Card.Img variant=\"top\" src={x} alt=\"product\" />\r\n                      </Button>\r\n                    </Card>\r\n                  </Col>\r\n                ))}\r\n              </Row>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              Description:\r\n              <p>{product.description}</p>\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card>\r\n            <Card.Body>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Price:</Col>\r\n                    <Col>${product.price}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Status:</Col>\r\n                    <Col>\r\n                      {product.countInStock > 0 ? (\r\n                        <Badge bg=\"success\">In Stock</Badge>\r\n                      ) : (\r\n                        <Badge bg=\"danger\">Unavailable</Badge>\r\n                      )}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                {product.countInStock > 0 && (\r\n                  <ListGroup.Item>\r\n                    <div className=\"d-grid\">\r\n                      <Button onClick={addToCartHandler} variant=\"primary\">\r\n                        Add to Cart\r\n                      </Button>\r\n                    </div>\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n      <div className=\"my-3\">\r\n        <h2 ref={reviewsRef}>Reviews</h2>\r\n        <div className=\"mb-3\">\r\n          {product.reviews.length === 0 && (\r\n            <MessageBox>There is no review</MessageBox>\r\n          )}\r\n        </div>\r\n        <ListGroup>\r\n          {product.reviews.map((review) => (\r\n            <ListGroup.Item key={review._id}>\r\n              <strong>{review.firstName}</strong>\r\n              <Rating rating={review.rating} caption=\" \"></Rating>\r\n              <p>{review.createdAt.substring(0, 10)}</p>\r\n              <p>{review.comment}</p>\r\n            </ListGroup.Item>\r\n          ))}\r\n        </ListGroup>\r\n        <div className=\"my-3\">\r\n          {userInfo ? (\r\n            <form onSubmit={submitHandler}>\r\n              <h2>Write a customer review</h2>\r\n              <Form.Group className=\"mb-3\" controlId=\"rating\">\r\n                <Form.Label>Rating</Form.Label>\r\n                <Form.Select\r\n                  aria-label=\"Rating\"\r\n                  value={rating}\r\n                  onChange={(e) => setRating(e.target.value)}\r\n                >\r\n                  <option value=\"\">Select...</option>\r\n                  <option value=\"1\">1- Poor</option>\r\n                  <option value=\"2\">2- Fair</option>\r\n                  <option value=\"3\">3- Good</option>\r\n                  <option value=\"4\">4- Very good</option>\r\n                  <option value=\"5\">5- Excelent</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n              <FloatingLabel\r\n                controlId=\"floatingTextarea\"\r\n                label=\"Comments\"\r\n                className=\"mb-3\"\r\n              >\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  placeholder=\"Leave a comment here\"\r\n                  value={comment}\r\n                  onChange={(e) => setComment(e.target.value)}\r\n                />\r\n              </FloatingLabel>\r\n\r\n              <div className=\"mb-3\">\r\n                <Button disabled={loadingCreateReview} type=\"submit\">\r\n                  Submit\r\n                </Button>\r\n                {loadingCreateReview && <LoadingBox></LoadingBox>}\r\n              </div>\r\n            </form>\r\n          ) : (\r\n            <MessageBox>\r\n              Please{' '}\r\n              <Link to={`/signin?redirect=/product/${product.slug}`}>\r\n                Sign In\r\n              </Link>{' '}\r\n              to write a review\r\n            </MessageBox>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ProductScreen;\r\n","import React, { useContext } from 'react';\r\nimport { Store } from '../Store';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Row, Col, ListGroup, Button, Card } from 'react-bootstrap';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function CartPage() {\r\n  const navigate = useNavigate();\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n\r\n  const {\r\n    cart: { cartItems },\r\n  } = state;\r\n\r\n  const updateCartHandler = async (item, quantity) => {\r\n    const { data } = await axios.get(`/api/products/${item._id}`);\r\n    if (data.countInStock < quantity) {\r\n      window.alert(\r\n        \"Désolé, il n'y a plus de quantité disponible pour ce produit\"\r\n      );\r\n      return;\r\n    }\r\n    ctxDispatch({\r\n      type: 'CART_ADD_ITEM',\r\n      payload: { ...item, quantity },\r\n    });\r\n  };\r\n\r\n  const removeItemHandler = (item) => {\r\n    ctxDispatch({ type: 'CART_REMOVE_ITEM', payload: item });\r\n    toast.success('Produit supprimé', { autoClose: 1500 });\r\n  };\r\n\r\n  const checkoutHandler = () => {\r\n    navigate(`/signin?redirect=/shipping`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Panier</title>\r\n      </Helmet>\r\n      <h1 className=\"my-5\">Panier</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          {cartItems.length === 0 ? (\r\n            <MessageBox>\r\n              Votre panier est vide, <Link to=\"/\">Go Shopping</Link>\r\n            </MessageBox>\r\n          ) : (\r\n            <ListGroup>\r\n              {cartItems.map((item) => (\r\n                <ListGroup.Item key={item._id}>\r\n                  <Row className=\"align-items-center\">\r\n                    <Col md={4}>\r\n                      <img\r\n                        src={item.image}\r\n                        alt={item.name}\r\n                        className=\"img-fluid rounded img-thumbnail\"\r\n                      />{' '}\r\n                      <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n                    </Col>\r\n\r\n                    <Col md={3}>\r\n                      <Button\r\n                        variant=\"light\"\r\n                        onClick={() =>\r\n                          updateCartHandler(item, item.quantity - 1)\r\n                        }\r\n                        disabled={item.quantity === 1}\r\n                      >\r\n                        <i className=\"fas fa-minus-circle\"></i>\r\n                      </Button>{' '}\r\n                      <span>{item.quantity}</span>\r\n                      <Button\r\n                        variant=\"light\"\r\n                        onClick={() =>\r\n                          updateCartHandler(item, item.quantity + 1)\r\n                        }\r\n                        disabled={item.quantity === item.countInStock}\r\n                      >\r\n                        <i className=\"fas fa-plus-circle\"></i>\r\n                      </Button>\r\n                    </Col>\r\n\r\n                    <Col md={3}>{item.price}&euro;</Col>\r\n\r\n                    <Col md={2} sm={12}>\r\n                      <Button\r\n                        className=\"btn btn-sm btn-warning\"\r\n                        onClick={() => removeItemHandler(item)}\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          )}\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <Card.Body>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <h3>\r\n                    Sous-total ({cartItems.reduce((a, c) => a + c.quantity, 0)}{' '}\r\n                    produits) : &euro;\r\n                    {cartItems.reduce((a, c) => a + c.price * c.quantity, 0)}\r\n                  </h3>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <div className=\"d-grid\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"primary\"\r\n                      disabled={cartItems.length === 0}\r\n                      onClick={checkoutHandler}\r\n                    >\r\n                      Paiement\r\n                    </Button>\r\n                  </div>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Button, Container, Form } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { Store } from '../Store';\r\nimport { toast } from 'react-toastify';\r\nimport { getError } from '../utils';\r\n\r\nexport default function SigninPage() {\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const redirectInUrl = new URLSearchParams(search).get('redirect');\r\n  const redirect = redirectInUrl ? redirectInUrl : '/';\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const { data } = await axios.post('/api/users/signin', {\r\n        email,\r\n        password,\r\n      });\r\n      ctxDispatch({ type: 'USER_SIGNIN', payload: data });\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n      navigate(redirect || '/');\r\n      toast.success(`Vous êtes connecté`, { autoClose: 1500 });\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) navigate(redirect);\r\n  }, [navigate, redirect, userInfo]);\r\n\r\n  return (\r\n    <Container className=\"small-container\">\r\n      <Helmet>\r\n        <title>Connexion</title>\r\n      </Helmet>\r\n      <h1 className=\"my-5\">Connexion</h1>\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Mot de passe</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"mb-3\">\r\n          <Button type=\"submit\">Connexion</Button>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          Nouveau client ? <Link to={`/signup`}>Inscrivez-vous !</Link>\r\n        </div>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Col, Row } from 'react-bootstrap';\r\n\r\nexport default function CheckoutSteps(props) {\r\n  return (\r\n    <Row className=\"checkout-steps\">\r\n      <Col className={props.step1 ? 'active' : ''}>Connexion</Col>\r\n      <Col className={props.step2 ? 'active' : ''}>Livraison</Col>\r\n      <Col className={props.step3 ? 'active' : ''}>Paiement</Col>\r\n      <Col className={props.step4 ? 'active' : ''}>Commande</Col>\r\n    </Row>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Store } from '../Store';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nexport default function ShippingAddressScreen() {\r\n  const navigate = useNavigate();\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const {\r\n    fullBox,\r\n    userInfo,\r\n    cart: { shippingAddress },\r\n  } = state;\r\n  const [fullName, setFullName] = useState(shippingAddress.fullName || '');\r\n  const [address, setAddress] = useState(shippingAddress.address || '');\r\n  const [city, setCity] = useState(shippingAddress.city || '');\r\n  const [postalCode, setPostalCode] = useState(\r\n    shippingAddress.postalCode || ''\r\n  );\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      navigate('/signin?redirect=/shipping');\r\n    }\r\n  }, [userInfo, navigate]);\r\n  const [country, setCountry] = useState(shippingAddress.country || '');\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    ctxDispatch({\r\n      type: 'SAVE_SHIPPING_ADDRESS',\r\n      payload: {\r\n        fullName,\r\n        address,\r\n        city,\r\n        postalCode,\r\n        country,\r\n        location: shippingAddress.location,\r\n      },\r\n    });\r\n    localStorage.setItem(\r\n      'shippingAddress',\r\n      JSON.stringify({\r\n        fullName,\r\n        address,\r\n        city,\r\n        postalCode,\r\n        country,\r\n        location: shippingAddress.location,\r\n      })\r\n    );\r\n    navigate('/payment');\r\n  };\r\n\r\n  useEffect(() => {\r\n    ctxDispatch({ type: 'SET_FULLBOX_OFF' });\r\n  }, [ctxDispatch, fullBox]);\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Shipping Address</title>\r\n      </Helmet>\r\n\r\n      <CheckoutSteps step1 step2></CheckoutSteps>\r\n      <div className=\"container small-container\">\r\n        <h1 className=\"my-3\">Shipping Address</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group className=\"mb-3\" controlId=\"fullName\">\r\n            <Form.Label>Full Name</Form.Label>\r\n            <Form.Control\r\n              value={fullName}\r\n              onChange={(e) => setFullName(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"address\">\r\n            <Form.Label>Address</Form.Label>\r\n            <Form.Control\r\n              value={address}\r\n              onChange={(e) => setAddress(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"city\">\r\n            <Form.Label>City</Form.Label>\r\n            <Form.Control\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"postalCode\">\r\n            <Form.Label>Postal Code</Form.Label>\r\n            <Form.Control\r\n              value={postalCode}\r\n              onChange={(e) => setPostalCode(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"country\">\r\n            <Form.Label>Country</Form.Label>\r\n            <Form.Control\r\n              value={country}\r\n              onChange={(e) => setCountry(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <div className=\"mb-3\">\r\n            <Button\r\n              id=\"chooseOnMap\"\r\n              type=\"button\"\r\n              variant=\"light\"\r\n              onClick={() => navigate('/map')}\r\n            >\r\n              Choose Location On Map\r\n            </Button>\r\n            {shippingAddress.location && shippingAddress.location.lat ? (\r\n              <div>\r\n                LAT: {shippingAddress.location.lat}\r\n                LNG:{shippingAddress.location.lng}\r\n              </div>\r\n            ) : (\r\n              <div>No location</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Continue\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Button, Container, Form } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { Store } from '../Store';\r\nimport { toast } from 'react-toastify';\r\nimport { getError } from '../utils';\r\n\r\nexport default function SignupPage() {\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const redirectInUrl = new URLSearchParams(search).get('redirect');\r\n  const redirect = redirectInUrl ? redirectInUrl : '/';\r\n\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      toast.error('Les mots de passe ne correspondent pas');\r\n    }\r\n    try {\r\n      const { data } = await axios.post('/api/users/signup', {\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        password,\r\n      });\r\n      ctxDispatch({ type: 'USER_SIGNUP', payload: data });\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n      navigate(redirect || '/');\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) navigate(redirect);\r\n  }, [navigate, redirect, userInfo]);\r\n\r\n  return (\r\n    <Container className=\"small-container\">\r\n      <Helmet>\r\n        <title>Inscription</title>\r\n      </Helmet>\r\n      <h1 className=\"my-5\">Inscription</h1>\r\n\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"firstName\">\r\n          <Form.Label>Nom</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            required\r\n            onChange={(e) => setFirstName(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"lastName\">\r\n          <Form.Label>Prénom</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            required\r\n            onChange={(e) => setLastName(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Mot de passe</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"confirmPassword\">\r\n          <Form.Label>Répéter votre mot de passe</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            required\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"mb-3\">\r\n          <Button type=\"submit\">Inscritpion</Button>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          Déjà client ? <Link to={`/signin`}>Connectez-vous!</Link>\r\n        </div>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { Store } from '../Store';\r\n\r\nexport default function PaymentMethodPage() {\r\n  const navigate = useNavigate();\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n\r\n  const {\r\n    cart: { shippingAddress, paymentMethod },\r\n  } = state;\r\n\r\n  const [paymentMethodName, setPaymentMethod] = useState(\r\n    paymentMethod || 'Paypal'\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!shippingAddress.address) {\r\n      navigate('/shipping');\r\n    }\r\n  }, [shippingAddress, navigate]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    ctxDispatch({ type: 'SAVE_PAYMENT_METHOD', payload: paymentMethodName });\r\n    localStorage.setItem('paymentMethod', paymentMethodName);\r\n    navigate('/placeorder');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n      <div className=\"container small-container\">\r\n        <Helmet>Méthode de paiement</Helmet>\r\n        <h1 className=\"my-5\">Méthode de paiement</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          <div className=\"mb-3\">\r\n            <div className=\"d-flex align-items-center my-3\">\r\n              <Form.Check\r\n                type=\"radio\"\r\n                id=\"PayPal\"\r\n                value=\"PayPal\"\r\n                checked={paymentMethodName === 'PayPal'}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n              />\r\n              <img\r\n                src=\"../images/580b57fcd9996e24bc43c530.png\"\r\n                alt=\"\"\r\n                className=\"img-fluid\"\r\n                width=\"50%\"\r\n              />\r\n            </div>\r\n            <div className=\"d-flex align-items-center my-5\">\r\n              <Form.Check\r\n                type=\"radio\"\r\n                id=\"Stripe\"\r\n                value=\"Stripe\"\r\n                checked={paymentMethodName === 'Stripe'}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n              />\r\n              <img\r\n                src=\"../images/logo-stripe.webp\"\r\n                alt=\"\"\r\n                className=\"img-fluid\"\r\n                width=\"50%\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <Button type=\"submit\">Continuer</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useReducer } from 'react';\r\nimport { Button, Card, Col, ListGroup, Row } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { getError } from '../utils';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { Store } from '../Store';\r\nimport axios from 'axios';\r\nimport LoadingBox from '../components/LoadingBox';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'CREATE_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'CREATE_SUCCESS':\r\n      return { ...state, loading: false };\r\n    case 'CREATE_FAIL':\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function PlaceOrderPage() {\r\n  const navigate = useNavigate();\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { cart, userInfo } = state;\r\n  const [{ loading }, dispatch] = useReducer(reducer, {\r\n    loading: false,\r\n  });\r\n  const round2 = (num) => Math.round(num * 100 + Number.EPSILON) / 100;\r\n  cart.itemsPrice = round2(\r\n    cart.cartItems.reduce((a, c) => a + c.quantity * c.price, 0)\r\n  );\r\n  cart.shippingPrice = cart.itemsPrice > 100 ? round2(0) : round2(10);\r\n  cart.taxPrice = round2(0.15 * cart.itemsPrice);\r\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n\r\n  const placeOrderHandler = async () => {\r\n    try {\r\n      dispatch({ type: 'CREATE_REQUEST' });\r\n      const { data } = await axios.post(\r\n        '/api/orders',\r\n        {\r\n          orderItems: cart.cartItems,\r\n          shippingAddress: cart.shippingAddress,\r\n          paymentMethod: cart.paymentMethod,\r\n          itemsPrice: cart.itemsPrice,\r\n          shippingPrice: cart.shippingPrice,\r\n          taxPrice: cart.taxPrice,\r\n          totalPrice: cart.totalPrice,\r\n        },\r\n        { headers: { authorization: `Bearer ${userInfo.token}` } }\r\n      );\r\n      ctxDispatch({ type: 'CART_CLEAR' });\r\n      dispatch({ type: 'CREATE-SUCCESS' });\r\n      localStorage.removeItem('cartItems');\r\n      navigate(`/order/${data.order._id}`);\r\n    } catch (err) {\r\n      dispatch({ type: 'CREATE_FAIL' });\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!cart.paymentMethod) {\r\n      navigate('/payment');\r\n    }\r\n  }, [cart, navigate]);\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3 step4></CheckoutSteps>\r\n      <Helmet>Récapitulatif de commande</Helmet>\r\n      <h1 className=\"my-5\">Récapitulatif de la commande</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Livraison</Card.Title>\r\n              <Card.Text>\r\n                <strong>Nom : </strong> {cart.shippingAddress.firstName}\r\n                <br />\r\n                <strong>Prénom : </strong> {cart.shippingAddress.lastName}\r\n                <br />\r\n                <strong>Adresse : </strong> {cart.shippingAddress.address},{' '}\r\n                {cart.shippingAddress.zip}, {cart.shippingAddress.city},{' '}\r\n                {cart.shippingAddress.country} <br />\r\n              </Card.Text>\r\n              <Link to=\"/shipping\">\r\n                <i className=\"fa-solid fa-pen-to-square\"></i> Modifier\r\n              </Link>\r\n            </Card.Body>\r\n          </Card>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Paiement</Card.Title>\r\n              <Card.Text>\r\n                <strong>Méthode de paiement : </strong>\r\n                {cart.paymentMethod}\r\n              </Card.Text>\r\n              <Link to=\"/payment\">\r\n                <i className=\"fa-solid fa-pen-to-square\"></i> Modifier\r\n              </Link>\r\n            </Card.Body>\r\n          </Card>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Produits</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                {cart.cartItems.map((item) => (\r\n                  <ListGroup.Item key={item._id}>\r\n                    <Row className=\"align-items-center\">\r\n                      <Col md={6}>\r\n                        <img\r\n                          src={item.image}\r\n                          alt={item.name}\r\n                          className=\"img-fluid rounded img-thumbnail\"\r\n                        />{' '}\r\n                        <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n                      </Col>\r\n                      <Col md={3}>\r\n                        <span>{item.quantity}</span>\r\n                      </Col>\r\n                      <Col md={3}>{item.price} &euro;</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                ))}\r\n              </ListGroup>\r\n              <Link to=\"/cart\">\r\n                <i className=\"fa-solid fa-pen-to-square\"></i> Modifier\r\n              </Link>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Montant de la commande</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Produits</Col>\r\n                    <Col>{cart.itemsPrice.toFixed(2)} &euro;</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Livraison</Col>\r\n                    <Col>{cart.shippingPrice.toFixed(2)} &euro;</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Taxes</Col>\r\n                    <Col>{cart.taxPrice.toFixed(2)} &euro;</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Total de la commande</Col>\r\n                    <Col>{cart.totalPrice.toFixed(2)} &euro;</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <div className=\"d-grid\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      onClick={placeOrderHandler}\r\n                      disabled={cart.cartItems.length === 0}\r\n                    >\r\n                      Commander\r\n                    </Button>\r\n                    <div>{loading && <LoadingBox></LoadingBox>}</div>\r\n                  </div>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useReducer, useContext, useEffect } from 'react';\r\nimport { PayPalButtons, usePayPalScriptReducer } from '@paypal/react-paypal-js';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { toast } from 'react-toastify';\r\nimport { Store } from '../Store';\r\nimport axios from 'axios';\r\nimport { getError } from '../utils';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Card, Col, ListGroup, Row } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true, error: '' };\r\n    case 'FETCH_SUCCESS':\r\n      return { ...state, loading: false, order: action.payload, error: '' };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    case 'PAY_REQUEST':\r\n      return { ...state, loadingPay: true };\r\n    case 'PAY_SUCCESS':\r\n      return { ...state, loadingPay: false, successPay: true };\r\n    case 'PAY_FAIL':\r\n      return { ...state, loadingPay: false };\r\n    case 'PAY_RESET':\r\n      return { ...state, loadingPay: false, successPay: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default function OrderPage() {\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const params = useParams();\r\n  const { id: orderId } = params;\r\n  const navigate = useNavigate();\r\n\r\n  const [\r\n    { loading, error, order, successPay, loadingPay },\r\n    dispatch,\r\n  ] = useReducer(reducer, {\r\n    loading: true,\r\n    order: {},\r\n    error: '',\r\n    successPay: false,\r\n    loadingPay: false,\r\n  });\r\n\r\n  const [{ isPending }, paypalDispatch] = usePayPalScriptReducer();\r\n\r\n  function createOrder(data, actions) {\r\n    return actions.order\r\n      .create({\r\n        purchase_units: [{ amount: { value: order.totalPrice } }],\r\n      })\r\n      .then((orderId) => {\r\n        return orderId;\r\n      });\r\n  }\r\n\r\n  function onApprove(data, actions) {\r\n    return actions.order.capture().then(async function(details) {\r\n      try {\r\n        dispatch({ type: 'PAY_REQUEST' });\r\n        const { data } = await axios.put(\r\n          `/api/orders/${order._id}/pay`,\r\n          details,\r\n          { headers: { authorization: `Bearer ${userInfo.token}` } }\r\n        );\r\n        dispatch({ type: 'PAY_SUCCESS', payload: data });\r\n        toast.success('Commande payée avec succès');\r\n      } catch (err) {\r\n        dispatch({ type: 'PAY_FAIL', payload: getError(err) });\r\n        toast.error(getError(err));\r\n      }\r\n    });\r\n  }\r\n\r\n  function onError(err) {\r\n    toast.error(getError(err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchOrder = async () => {\r\n      try {\r\n        dispatch({ type: 'FETCH_REQUEST' });\r\n        const { data } = await axios.get(`/api/orders/${orderId}`, {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {\r\n        dispatch({ type: 'FETCH_FAIL', payload: getError(err) });\r\n      }\r\n    };\r\n\r\n    if (!userInfo) {\r\n      return navigate('/signin');\r\n    }\r\n    if (!order._id || successPay || (order._id && order._id !== orderId)) {\r\n      fetchOrder();\r\n      if (successPay) {\r\n        dispatch({ type: 'PAY_RESET' });\r\n      }\r\n    } else {\r\n      const loadPaypalScript = async () => {\r\n        const { data: clientId } = await axios.get('/api/keys/paypal', {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        paypalDispatch({\r\n          type: 'resetOptions',\r\n          value: { 'client-id': clientId, currency: 'EUR' },\r\n        });\r\n        paypalDispatch({ type: 'setLoadingStatus', value: 'pending' });\r\n      };\r\n      loadPaypalScript();\r\n    }\r\n  }, [order, userInfo, orderId, navigate, paypalDispatch, successPay]);\r\n\r\n  return loading ? (\r\n    <LoadingBox></LoadingBox>\r\n  ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n  ) : (\r\n    <div>\r\n      <Helmet>\r\n        <title>Commande {orderId}</title>\r\n      </Helmet>\r\n      <h1 className=\"my-5\">Commande {orderId}</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Livraison</Card.Title>\r\n              <Card.Text>\r\n                <strong>Nom :</strong> {order.shippingAddress.firstName} <br />\r\n                <strong>Prénom :</strong> {order.shippingAddress.lastName}{' '}\r\n                <br />\r\n                <strong>Adresse : </strong> {order.shippingAddress.address},{' '}\r\n                {order.shippingAddress.zip}, {order.shippingAddress.city},{' '}\r\n                {order.shippingAddress.country} <br />\r\n              </Card.Text>\r\n              {order.isDelivered ? (\r\n                <MessageBox variant=\"success\">\r\n                  Commande livrée le {order.deliveredAt}\r\n                </MessageBox>\r\n              ) : (\r\n                <MessageBox variant=\"danger\">Pas encore livré</MessageBox>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Payment</Card.Title>\r\n              <Card.Text>\r\n                <strong>Méthode:</strong> {order.paymentMethod}\r\n              </Card.Text>\r\n              {order.isPaid ? (\r\n                <MessageBox variant=\"success\">\r\n                  Payé le {order.paidAt}\r\n                </MessageBox>\r\n              ) : (\r\n                <MessageBox variant=\"danger\">Pas encore payé</MessageBox>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Produits</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                {order.orderItems.map((item) => (\r\n                  <ListGroup.Item key={item._id}>\r\n                    <Row>\r\n                      <Col md={6}>\r\n                        <img\r\n                          src={item.image}\r\n                          alt={item.name}\r\n                          className=\"img-fluid img-thumbnail\"\r\n                        />{' '}\r\n                        <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n                      </Col>\r\n                      <Col md={3}>\r\n                        <span>{item.quantity}</span>\r\n                      </Col>\r\n                      <Col md={3}>{item.price} &euro;</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                ))}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <Card.Title>Montant de la commande</Card.Title>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Produits</Col>\r\n                    <Col>{order.itemsPrice.toFixed(2)} &euro;</Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col>Livraison</Col>\r\n                    <Col>{order.shippingPrice.toFixed(2)} &euro;</Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col>Taxes</Col>\r\n                    <Col>{order.taxPrice.toFixed(2)} &euro;</Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col>\r\n                      <strong>Total de la commande</strong>\r\n                    </Col>\r\n                    <Col>\r\n                      <strong>{order.totalPrice.toFixed(2)} &euro;</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                {!order.isPaid && (\r\n                  <ListGroup.Item>\r\n                    {isPending ? (\r\n                      <LoadingBox />\r\n                    ) : (\r\n                      <div>\r\n                        <PayPalButtons\r\n                          createOrder={createOrder}\r\n                          onApprove={onApprove}\r\n                          onError={onError}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    {loadingPay && <LoadingBox></LoadingBox>}\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useReducer } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Store } from '../Store';\r\nimport axios from 'axios';\r\nimport { getError } from '../utils';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return { ...state, orders: action.payload, loading: false };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst OrderHistoryPage = () => {\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const navigate = useNavigate();\r\n  const [{ loading, error, orders }, dispatch] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: 'FETCH_REQUEST' });\r\n      try {\r\n        const { data } = await axios.get(`/api/orders/mine`, {\r\n          headers: { authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {\r\n        dispatch({ type: 'FETCH_ERROR', payload: getError(err) });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [userInfo]);\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Historique de commandes</title>\r\n      </Helmet>\r\n      <h1 className=\"my-5\">Historique de commandes</h1>\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox></MessageBox>\r\n      ) : (\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr className=\"to-upper\">\r\n              <th>id</th>\r\n              <th>date</th>\r\n              <th>total</th>\r\n              <th>payé</th>\r\n              <th>livré</th>\r\n              <th>actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>{order.totalPrice.toFixed(2)} &euro;</td>\r\n                <td>{order.isPaid ? order.paidAt.substring(0, 10) : 'Non'}</td>\r\n                <td>\r\n                  {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : 'Non'}\r\n                </td>\r\n                <td>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"light\"\r\n                    onClick={() => {\r\n                      navigate(`/order/${order._id}`);\r\n                    }}\r\n                  >\r\n                    <i class=\"fa-solid fa-eye\"></i> Voir\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderHistoryPage;\r\n","import React, { useContext, useReducer, useState } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Store } from '../Store';\r\nimport { getError } from '../utils';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_REQUEST':\r\n      return { ...state, loadingUpdate: true };\r\n    case 'UPDATE_SUCCESS':\r\n      return { ...state, loadingUpdate: false };\r\n    case 'UPDATE_FAIL':\r\n      return { ...state, loadingUpdate: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst ProfilePage = () => {\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const [firstName, setFirstName] = useState(userInfo.firstName);\r\n  const [lastName, setLastName] = useState(userInfo.lastName);\r\n  const [email, setEmail] = useState(userInfo.email);\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n  const [{ loadingUpdate }, dispatch] = useReducer(reducer, {\r\n    loadingUpdate: false,\r\n  });\r\n\r\n  const submitHandler = async (e) => {\r\n    if (password !== confirmPassword) {\r\n      toast.error('Les mots de passe ne correspondent pas');\r\n    }\r\n    e.preventDefault();\r\n    try {\r\n      const { data } = await axios.put(\r\n        '/api/users/profile',\r\n        {\r\n          firstName,\r\n          lastName,\r\n          email,\r\n          password,\r\n        },\r\n        { headers: { authorization: `Bearer ${userInfo.token}` } }\r\n      );\r\n      dispatch({ type: 'UPDATE_SUCCESS' });\r\n      ctxDispatch({ type: 'USER_SIGNIN', payload: data });\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n      toast.success('Votre profil a été mis à jour', { autoClose: 2000 });\r\n    } catch (err) {\r\n      dispatch({ type: 'UPDATE_FAIL' });\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container small-container\">\r\n      <Helmet>\r\n        <title>Profil</title>\r\n      </Helmet>\r\n      <h1 className=\"my-5\">Votre profil</h1>\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"firstName\">\r\n          <Form.Label>Nom</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            value={firstName}\r\n            onChange={(e) => setFirstName(e.target.value)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"lastName\">\r\n          <Form.Label>Prénom</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            value={lastName}\r\n            onChange={(e) => setLastName(e.target.value)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Mot de passe</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"confirmPassword\">\r\n          <Form.Label>Répétez le Mot de passe</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <div className=\"mb-3\">\r\n          <Button type=\"submit\">Mettre à jour</Button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n","import React, { useState } from 'react';\r\nimport { Button, Form, FormControl, InputGroup } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function SearchBox() {\r\n  const navigate = useNavigate();\r\n  const [query, setQuery] = useState('');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    navigate(query ? `/search/?query=${query}` : '/search');\r\n  };\r\n\r\n  return (\r\n    <Form className=\"d-flex me-auto\" onSubmit={submitHandler}>\r\n      <InputGroup>\r\n        <FormControl\r\n          type=\"text\"\r\n          name=\"q\"\r\n          id=\"q\"\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          placeholder=\"Recherher...\"\r\n          aria-label=\"rechercher\"\r\n          aria-describedby=\"button-search\"\r\n        ></FormControl>\r\n        <Button variant=\"outline-primary\" type=\"submit\" id=\"button-search\">\r\n          <i className=\"fas fa-search\"></i>\r\n        </Button>\r\n      </InputGroup>\r\n    </Form>\r\n  );\r\n}\r\n","import React, { useEffect, useReducer, useState } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { getError } from '../utils';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Rating from '../components/Rating';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Product from '../components/Product';\r\nimport LinkContainer from 'react-router-bootstrap/LinkContainer';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        products: action.payload.products,\r\n        page: action.payload.page,\r\n        pages: action.payload.pages,\r\n        countProducts: action.payload.countProducts,\r\n        loading: false,\r\n      };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst prices = [\r\n  {\r\n    name: '$1 to $50',\r\n    value: '1-50',\r\n  },\r\n  {\r\n    name: '$51 to $200',\r\n    value: '51-200',\r\n  },\r\n  {\r\n    name: '$201 to $1000',\r\n    value: '201-1000',\r\n  },\r\n];\r\n\r\nexport const ratings = [\r\n  {\r\n    name: '4stars & up',\r\n    rating: 4,\r\n  },\r\n\r\n  {\r\n    name: '3stars & up',\r\n    rating: 3,\r\n  },\r\n\r\n  {\r\n    name: '2stars & up',\r\n    rating: 2,\r\n  },\r\n\r\n  {\r\n    name: '1stars & up',\r\n    rating: 1,\r\n  },\r\n];\r\n\r\nexport default function SearchScreen() {\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const sp = new URLSearchParams(search); // /search?category=Shirts\r\n  const category = sp.get('category') || 'all';\r\n  const query = sp.get('query') || 'all';\r\n  const price = sp.get('price') || 'all';\r\n  const rating = sp.get('rating') || 'all';\r\n  const order = sp.get('order') || 'newest';\r\n  const page = sp.get('page') || 1;\r\n\r\n  const [\r\n    { loading, error, products, pages, countProducts },\r\n    dispatch,\r\n  ] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data } = await axios.get(\r\n          `/api/products/search?page=${page}&query=${query}&category=${category}&price=${price}&rating=${rating}&order=${order}`\r\n        );\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(error),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [category, error, order, page, price, query, rating]);\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const { data } = await axios.get(`/api/products/categories`);\r\n        setCategories(data);\r\n      } catch (err) {\r\n        toast.error(getError(err));\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, [dispatch]);\r\n\r\n  const getFilterUrl = (filter) => {\r\n    const filterPage = filter.page || page;\r\n    const filterCategory = filter.category || category;\r\n    const filterQuery = filter.query || query;\r\n    const filterRating = filter.rating || rating;\r\n    const filterPrice = filter.price || price;\r\n    const sortOrder = filter.order || order;\r\n    return `/search?category=${filterCategory}&query=${filterQuery}&price=${filterPrice}&rating=${filterRating}&order=${sortOrder}&page=${filterPage}`;\r\n  };\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Search Products</title>\r\n      </Helmet>\r\n      <Row>\r\n        <Col md={3}>\r\n          <h3>Department</h3>\r\n          <div>\r\n            <ul>\r\n              <li>\r\n                <Link\r\n                  className={'all' === category ? 'text-bold' : ''}\r\n                  to={getFilterUrl({ category: 'all' })}\r\n                >\r\n                  Any\r\n                </Link>\r\n              </li>\r\n              {categories.map((c) => (\r\n                <li key={c}>\r\n                  <Link\r\n                    className={c === category ? 'text-bold' : ''}\r\n                    to={getFilterUrl({ category: c })}\r\n                  >\r\n                    {c}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h3>Price</h3>\r\n            <ul>\r\n              <li>\r\n                <Link\r\n                  className={'all' === price ? 'text-bold' : ''}\r\n                  to={getFilterUrl({ price: 'all' })}\r\n                >\r\n                  Any\r\n                </Link>\r\n              </li>\r\n              {prices.map((p) => (\r\n                <li key={p.value}>\r\n                  <Link\r\n                    to={getFilterUrl({ price: p.value })}\r\n                    className={p.value === price ? 'text-bold' : ''}\r\n                  >\r\n                    {p.name}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h3>Avg. Customer Review</h3>\r\n            <ul>\r\n              {ratings.map((r) => (\r\n                <li key={r.name}>\r\n                  <Link\r\n                    to={getFilterUrl({ rating: r.rating })}\r\n                    className={`${r.rating}` === `${rating}` ? 'text-bold' : ''}\r\n                  >\r\n                    <Rating caption={' & up'} rating={r.rating}></Rating>\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n              <li>\r\n                <Link\r\n                  to={getFilterUrl({ rating: 'all' })}\r\n                  className={rating === 'all' ? 'text-bold' : ''}\r\n                >\r\n                  <Rating caption={' & up'} rating={0}></Rating>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </Col>\r\n        <Col md={9}>\r\n          {loading ? (\r\n            <LoadingBox></LoadingBox>\r\n          ) : error ? (\r\n            <MessageBox variant=\"danger\">{error}</MessageBox>\r\n          ) : (\r\n            <>\r\n              <Row className=\"justify-content-between mb-3\">\r\n                <Col md={6}>\r\n                  <div>\r\n                    {countProducts === 0 ? 'No' : countProducts} Results\r\n                    {query !== 'all' && ' : ' + query}\r\n                    {category !== 'all' && ' : ' + category}\r\n                    {price !== 'all' && ' : Price ' + price}\r\n                    {rating !== 'all' && ' : Rating ' + rating + ' & up'}\r\n                    {query !== 'all' ||\r\n                    category !== 'all' ||\r\n                    rating !== 'all' ||\r\n                    price !== 'all' ? (\r\n                      <Button\r\n                        variant=\"light\"\r\n                        onClick={() => navigate('/search')}\r\n                      >\r\n                        <i className=\"fas fa-times-circle\"></i>\r\n                      </Button>\r\n                    ) : null}\r\n                  </div>\r\n                </Col>\r\n                <Col className=\"text-end\">\r\n                  Sort by{' '}\r\n                  <select\r\n                    value={order}\r\n                    onChange={(e) => {\r\n                      navigate(getFilterUrl({ order: e.target.value }));\r\n                    }}\r\n                  >\r\n                    <option value=\"newest\">Newest Arrivals</option>\r\n                    <option value=\"lowest\">Price: Low to High</option>\r\n                    <option value=\"highest\">Price: High to Low</option>\r\n                    <option value=\"toprated\">Avg. Customer Reviews</option>\r\n                  </select>\r\n                </Col>\r\n              </Row>\r\n              {products.length === 0 && (\r\n                <MessageBox>No Product Found</MessageBox>\r\n              )}\r\n\r\n              <Row>\r\n                {products.map((product) => (\r\n                  <Col sm={6} lg={4} className=\"mb-3\" key={product._id}>\r\n                    <Product product={product}></Product>\r\n                  </Col>\r\n                ))}\r\n              </Row>\r\n\r\n              <div>\r\n                {[...Array(pages).keys()].map((x) => (\r\n                  <LinkContainer\r\n                    key={x + 1}\r\n                    className=\"mx-1\"\r\n                    to={getFilterUrl({ page: x + 1 })}\r\n                  >\r\n                    <Button\r\n                      className={Number(page) === x + 1 ? 'text-bold' : ''}\r\n                      variant=\"light\"\r\n                    >\r\n                      {x + 1}\r\n                    </Button>\r\n                  </LinkContainer>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { Store } from '../Store';\r\n\r\nexport default function ProtectedRoute({ children }) {\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n  return userInfo ? children : <Navigate to=\"/signin\"></Navigate>;\r\n}\r\n","import React, { useContext, useEffect, useReducer } from 'react';\r\nimport Chart from 'react-google-charts';\r\nimport axios from 'axios';\r\nimport { Store } from '../Store';\r\nimport { getError } from '../utils';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Row, Col, Card } from 'react-bootstrap';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        summary: action.payload,\r\n        loading: false,\r\n      };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default function DashboardScreen() {\r\n  const [{ loading, summary, error }, dispatch] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data } = await axios.get('/api/orders/summary', {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(err),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [userInfo]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Dashboard</h1>\r\n      {loading ? (\r\n        <LoadingBox />\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            <Col md={4}>\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    {summary.users && summary.users[0]\r\n                      ? summary.users[0].numUsers\r\n                      : 0}\r\n                  </Card.Title>\r\n                  <Card.Text> Users</Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    {summary.orders && summary.users[0]\r\n                      ? summary.orders[0].numOrders\r\n                      : 0}\r\n                  </Card.Title>\r\n                  <Card.Text> Orders</Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    $\r\n                    {summary.orders && summary.users[0]\r\n                      ? summary.orders[0].totalSales.toFixed(2)\r\n                      : 0}\r\n                  </Card.Title>\r\n                  <Card.Text> Orders</Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n          <div className=\"my-3\">\r\n            <h2>Sales</h2>\r\n            {summary.dailyOrders.length === 0 ? (\r\n              <MessageBox>No Sale</MessageBox>\r\n            ) : (\r\n              <Chart\r\n                width=\"100%\"\r\n                height=\"400px\"\r\n                chartType=\"AreaChart\"\r\n                loader={<div>Loading Chart...</div>}\r\n                data={[\r\n                  ['Date', 'Sales'],\r\n                  ...summary.dailyOrders.map((x) => [x._id, x.sales]),\r\n                ]}\r\n              ></Chart>\r\n            )}\r\n          </div>\r\n          <div className=\"my-3\">\r\n            <h2>Categories</h2>\r\n            {summary.productCategories.length === 0 ? (\r\n              <MessageBox>No Category</MessageBox>\r\n            ) : (\r\n              <Chart\r\n                width=\"100%\"\r\n                height=\"400px\"\r\n                chartType=\"PieChart\"\r\n                loader={<div>Loading Chart...</div>}\r\n                data={[\r\n                  ['Category', 'Products'],\r\n                  ...summary.productCategories.map((x) => [x._id, x.count]),\r\n                ]}\r\n              ></Chart>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { Store } from '../Store';\r\n\r\nexport default function AdminRoute({ children }) {\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n  return userInfo && userInfo.isAdmin ? (\r\n    children\r\n  ) : (\r\n    <Navigate to=\"/signin\"></Navigate>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { Button, Row, Col } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { Store } from '../Store';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { getError } from '../utils';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        products: action.payload.products,\r\n        page: action.payload.page,\r\n        pages: action.payload.pages,\r\n        loading: false,\r\n      };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    case 'CREATE_REQUEST':\r\n      return { ...state, loadingCreate: true };\r\n    case 'CREATE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingCreate: false,\r\n      };\r\n    case 'CREATE_FAIL':\r\n      return { ...state, loadingCreate: false };\r\n\r\n    case 'DELETE_REQUEST':\r\n      return { ...state, loadingDelete: true, successDelete: false };\r\n    case 'DELETE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingDelete: false,\r\n        successDelete: true,\r\n      };\r\n    case 'DELETE_FAIL':\r\n      return { ...state, loadingDelete: false, successDelete: false };\r\n\r\n    case 'DELETE_RESET':\r\n      return { ...state, loadingDelete: false, successDelete: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function ProductListScreen() {\r\n  const [\r\n    {\r\n      loading,\r\n      error,\r\n      products,\r\n      pages,\r\n      loadingCreate,\r\n      loadingDelete,\r\n      successDelete,\r\n    },\r\n    dispatch,\r\n  ] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const sp = new URLSearchParams(search);\r\n  const page = sp.get('page') || 1;\r\n\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data } = await axios.get(`/api/products/admin?page=${page} `, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {}\r\n    };\r\n\r\n    if (successDelete) {\r\n      dispatch({ type: 'DELETE_RESET' });\r\n    } else {\r\n      fetchData();\r\n    }\r\n  }, [page, userInfo, successDelete]);\r\n\r\n  const createHandler = async () => {\r\n    if (window.confirm('Are you sure to create?')) {\r\n      try {\r\n        dispatch({ type: 'CREATE_REQUEST' });\r\n        const { data } = await axios.post(\r\n          '/api/products',\r\n          {},\r\n          {\r\n            headers: { Authorization: `Bearer ${userInfo.token}` },\r\n          }\r\n        );\r\n        toast.success('product created successfully');\r\n        dispatch({ type: 'CREATE_SUCCESS' });\r\n        navigate(`/admin/product/${data.product._id}`);\r\n      } catch (err) {\r\n        toast.error(getError(error));\r\n        dispatch({\r\n          type: 'CREATE_FAIL',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const deleteHandler = async (product) => {\r\n    if (window.confirm('Are you sure to delete?')) {\r\n      try {\r\n        await axios.delete(`/api/products/${product._id}`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        toast.success('product deleted successfully');\r\n        dispatch({ type: 'DELETE_SUCCESS' });\r\n      } catch (err) {\r\n        toast.error(getError(error));\r\n        dispatch({\r\n          type: 'DELETE_FAIL',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col>\r\n          <h1>Products</h1>\r\n        </Col>\r\n        <Col className=\"col text-end\">\r\n          <div>\r\n            <Button type=\"button\" onClick={createHandler}>\r\n              Create Product\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {loadingCreate && <LoadingBox></LoadingBox>}\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>PRICE</th>\r\n                <th>CATEGORY</th>\r\n                <th>BRAND</th>\r\n                <th>ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map((product) => (\r\n                <tr key={product._id}>\r\n                  <td>{product._id}</td>\r\n                  <td>{product.name}</td>\r\n                  <td>{product.price}</td>\r\n                  <td>{product.category}</td>\r\n                  <td>{product.brand}</td>\r\n                  <td>\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"light\"\r\n                      onClick={() => navigate(`/admin/product/${product._id}`)}\r\n                    >\r\n                      Edit\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"light\"\r\n                      onClick={() => deleteHandler(product)}\r\n                    >\r\n                      Delete\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <div>\r\n            {[...Array(pages).keys()].map((x) => (\r\n              <Link\r\n                className={x + 1 === Number(page) ? 'btn text-bold' : 'btn'}\r\n                key={x + 1}\r\n                to={`/admin/products?page=${x + 1}`}\r\n              >\r\n                {x + 1}\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useReducer, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport { Store } from '../Store';\r\nimport { getError } from '../utils';\r\nimport { Container, ListGroup, Button, Form } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return { ...state, loading: false };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    case 'UPDATE_REQUEST':\r\n      return { ...state, loadingUpdate: true };\r\n    case 'UPDATE_SUCCESS':\r\n      return { ...state, loadingUpdate: false };\r\n    case 'UPDATE_FAIL':\r\n      return { ...state, loadingUpdate: false };\r\n    case 'UPLOAD_REQUEST':\r\n      return { ...state, loadingUpload: true, errorUpload: '' };\r\n    case 'UPLOAD_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingUpload: false,\r\n        errorUpload: '',\r\n      };\r\n    case 'UPLOAD_FAIL':\r\n      return { ...state, loadingUpload: false, errorUpload: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default function ProductEditScreen() {\r\n  const navigate = useNavigate();\r\n  const params = useParams(); // /product/:id\r\n  const { id: productId } = params;\r\n\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const [\r\n    { loading, error, loadingUpdate, loadingUpload },\r\n    dispatch,\r\n  ] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  const [name, setName] = useState('');\r\n  const [slug, setSlug] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [images, setImages] = useState([]);\r\n  const [category, setCategory] = useState('');\r\n  const [countInStock, setCountInStock] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        dispatch({ type: 'FETCH_REQUEST' });\r\n        const { data } = await axios.get(`/api/products/${productId}`);\r\n        setName(data.name);\r\n        setSlug(data.slug);\r\n        setPrice(data.price);\r\n        setImage(data.image);\r\n        setImages(data.images);\r\n        setCategory(data.category);\r\n        setCountInStock(data.countInStock);\r\n        setBrand(data.brand);\r\n        setDescription(data.description);\r\n        dispatch({ type: 'FETCH_SUCCESS' });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(err),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [productId]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      dispatch({ type: 'UPDATE_REQUEST' });\r\n      await axios.put(\r\n        `/api/products/${productId}`,\r\n        {\r\n          _id: productId,\r\n          name,\r\n          slug,\r\n          price,\r\n          image,\r\n          images,\r\n          category,\r\n          brand,\r\n          countInStock,\r\n          description,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        }\r\n      );\r\n      dispatch({\r\n        type: 'UPDATE_SUCCESS',\r\n      });\r\n      toast.success('Product updated successfully');\r\n      navigate('/admin/products');\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n      dispatch({ type: 'UPDATE_FAIL' });\r\n    }\r\n  };\r\n  const uploadFileHandler = async (e, forImages) => {\r\n    const file = e.target.files[0];\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append('file', file);\r\n    try {\r\n      dispatch({ type: 'UPLOAD_REQUEST' });\r\n      const { data } = await axios.post('/api/upload', bodyFormData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      });\r\n      dispatch({ type: 'UPLOAD_SUCCESS' });\r\n\r\n      if (forImages) {\r\n        setImages([...images, data.secure_url]);\r\n      } else {\r\n        setImage(data.secure_url);\r\n      }\r\n      toast.success('Image uploaded successfully. click Update to apply it');\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n      dispatch({ type: 'UPLOAD_FAIL', payload: getError(err) });\r\n    }\r\n  };\r\n  const deleteFileHandler = async (fileName, f) => {\r\n    console.log(fileName, f);\r\n    console.log(images);\r\n    console.log(images.filter((x) => x !== fileName));\r\n    setImages(images.filter((x) => x !== fileName));\r\n    toast.success('Image removed successfully. click Update to apply it');\r\n  };\r\n  return (\r\n    <Container className=\"small-container\">\r\n      <Helmet>\r\n        <title>Edit Product ${productId}</title>\r\n      </Helmet>\r\n      <h1>Edit Product {productId}</h1>\r\n\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group className=\"mb-3\" controlId=\"name\">\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"slug\">\r\n            <Form.Label>Slug</Form.Label>\r\n            <Form.Control\r\n              value={slug}\r\n              onChange={(e) => setSlug(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"name\">\r\n            <Form.Label>Price</Form.Label>\r\n            <Form.Control\r\n              value={price}\r\n              onChange={(e) => setPrice(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"image\">\r\n            <Form.Label>Image File</Form.Label>\r\n            <Form.Control\r\n              value={image}\r\n              onChange={(e) => setImage(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"imageFile\">\r\n            <Form.Label>Upload Image</Form.Label>\r\n            <Form.Control type=\"file\" onChange={uploadFileHandler} />\r\n            {loadingUpload && <LoadingBox></LoadingBox>}\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\" controlId=\"additionalImage\">\r\n            <Form.Label>Additional Images</Form.Label>\r\n            {images.length === 0 && <MessageBox>No image</MessageBox>}\r\n            <ListGroup variant=\"flush\">\r\n              {images.map((x) => (\r\n                <ListGroup.Item key={x}>\r\n                  {x}\r\n                  <Button variant=\"light\" onClick={() => deleteFileHandler(x)}>\r\n                    <i className=\"fa fa-times-circle\"></i>\r\n                  </Button>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"additionalImageFile\">\r\n            <Form.Label>Upload Aditional Image</Form.Label>\r\n            <Form.Control\r\n              type=\"file\"\r\n              onChange={(e) => uploadFileHandler(e, true)}\r\n            />\r\n            {loadingUpload && <LoadingBox></LoadingBox>}\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\" controlId=\"category\">\r\n            <Form.Label>Category</Form.Label>\r\n            <Form.Control\r\n              value={category}\r\n              onChange={(e) => setCategory(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"brand\">\r\n            <Form.Label>Brand</Form.Label>\r\n            <Form.Control\r\n              value={brand}\r\n              onChange={(e) => setBrand(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"countInStock\">\r\n            <Form.Label>Count In Stock</Form.Label>\r\n            <Form.Control\r\n              value={countInStock}\r\n              onChange={(e) => setCountInStock(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"description\">\r\n            <Form.Label>Description</Form.Label>\r\n            <Form.Control\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <div className=\"mb-3\">\r\n            <Button disabled={loadingUpdate} type=\"submit\">\r\n              Update\r\n            </Button>\r\n            {loadingUpdate && <LoadingBox></LoadingBox>}\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useReducer } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Store } from '../Store';\r\nimport { getError } from '../utils';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        orders: action.payload,\r\n        loading: false,\r\n      };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    case 'DELETE_REQUEST':\r\n      return { ...state, loadingDelete: true, successDelete: false };\r\n    case 'DELETE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingDelete: false,\r\n        successDelete: true,\r\n      };\r\n    case 'DELETE_FAIL':\r\n      return { ...state, loadingDelete: false };\r\n    case 'DELETE_RESET':\r\n      return { ...state, loadingDelete: false, successDelete: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default function OrderListPage() {\r\n  const navigate = useNavigate();\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const [\r\n    { loading, error, orders, loadingDelete, successDelete },\r\n    dispatch,\r\n  ] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        dispatch({ type: 'FETCH_REQUEST' });\r\n        const { data } = await axios.get(`/api/orders`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(err),\r\n        });\r\n      }\r\n    };\r\n    if (successDelete) {\r\n      dispatch({ type: 'DELETE_RESET' });\r\n    } else {\r\n      fetchData();\r\n    }\r\n  }, [userInfo, successDelete]);\r\n\r\n  const deleteHandler = async (order) => {\r\n    if (window.confirm('Are you sure to delete?')) {\r\n      try {\r\n        dispatch({ type: 'DELETE_REQUEST' });\r\n        await axios.delete(`/api/orders/${order._id}`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        toast.success('order deleted successfully');\r\n        dispatch({ type: 'DELETE_SUCCESS' });\r\n      } catch (err) {\r\n        toast.error(getError(error));\r\n        dispatch({\r\n          type: 'DELETE_FAIL',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Orders</title>\r\n      </Helmet>\r\n      <h1>Orders</h1>\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>USER</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.user ? order.user.firstName : 'DELETED USER'}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>{order.totalPrice.toFixed(2)}</td>\r\n                <td>{order.isPaid ? order.paidAt.substring(0, 10) : 'No'}</td>\r\n\r\n                <td>\r\n                  {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : 'No'}\r\n                </td>\r\n                <td>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"light\"\r\n                    onClick={() => {\r\n                      navigate(`/order/${order._id}`);\r\n                    }}\r\n                  >\r\n                    Details\r\n                  </Button>\r\n                  &nbsp;\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"light\"\r\n                    onClick={() => deleteHandler(order)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useReducer } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Store } from '../Store';\r\nimport { getError } from '../utils';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        users: action.payload,\r\n        loading: false,\r\n      };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    case 'DELETE_REQUEST':\r\n      return { ...state, loadingDelete: true, successDelete: false };\r\n    case 'DELETE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingDelete: false,\r\n        successDelete: true,\r\n      };\r\n    case 'DELETE_FAIL':\r\n      return { ...state, loadingDelete: false };\r\n    case 'DELETE_RESET':\r\n      return { ...state, loadingDelete: false, successDelete: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default function UserListScreen() {\r\n  const navigate = useNavigate();\r\n  const [\r\n    { loading, error, users, loadingDelete, successDelete },\r\n    dispatch,\r\n  ] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        dispatch({ type: 'FETCH_REQUEST' });\r\n        const { data } = await axios.get(`/api/users`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(err),\r\n        });\r\n      }\r\n    };\r\n    if (successDelete) {\r\n      dispatch({ type: 'DELETE_RESET' });\r\n    } else {\r\n      fetchData();\r\n    }\r\n  }, [userInfo, successDelete]);\r\n\r\n  const deleteHandler = async (user) => {\r\n    if (window.confirm('Are you sure to delete?')) {\r\n      try {\r\n        dispatch({ type: 'DELETE_REQUEST' });\r\n        await axios.delete(`/api/users/${user._id}`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        toast.success('user deleted successfully');\r\n        dispatch({ type: 'DELETE_SUCCESS' });\r\n      } catch (error) {\r\n        toast.error(getError(error));\r\n        dispatch({\r\n          type: 'DELETE_FAIL',\r\n        });\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Users</title>\r\n      </Helmet>\r\n      <h1>Users</h1>\r\n\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>FIRSTNAME</th>\r\n              <th>LASTNAME</th>\r\n              <th>EMAIL</th>\r\n              <th>IS ADMIN</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user) => (\r\n              <tr key={user._id}>\r\n                <td>{user._id}</td>\r\n                <td>{user.firstName}</td>\r\n                <td>{user.lastName}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.isAdmin ? 'YES' : 'NO'}</td>\r\n                <td>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"light\"\r\n                    onClick={() => navigate(`/admin/user/${user._id}`)}\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                  &nbsp;\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"light\"\r\n                    onClick={() => deleteHandler(user)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useReducer, useState } from 'react';\r\nimport { Form, Button, Container } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Store } from '../Store';\r\nimport { getError } from '../utils';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return { ...state, loading: false };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    case 'UPDATE_REQUEST':\r\n      return { ...state, loadingUpdate: true };\r\n    case 'UPDATE_SUCCESS':\r\n      return { ...state, loadingUpdate: false };\r\n    case 'UPDATE_FAIL':\r\n      return { ...state, loadingUpdate: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function UserEditScreen() {\r\n  const [{ loading, error, loadingUpdate }, dispatch] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  const { state } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  const params = useParams();\r\n  const { id: userId } = params;\r\n  const navigate = useNavigate();\r\n\r\n  const [firstName, setfirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        dispatch({ type: 'FETCH_REQUEST' });\r\n        const { data } = await axios.get(`/api/users/${userId}`, {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        });\r\n        setfirstName(data.firstName);\r\n        setLastName(data.lastName);\r\n        setEmail(data.email);\r\n        setIsAdmin(data.isAdmin);\r\n        dispatch({ type: 'FETCH_SUCCESS' });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(err),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [userId, userInfo]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      dispatch({ type: 'UPDATE_REQUEST' });\r\n      await axios.put(\r\n        `/api/users/${userId}`,\r\n        { _id: userId, firstName, lastName, email, isAdmin },\r\n        {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        }\r\n      );\r\n      dispatch({\r\n        type: 'UPDATE_SUCCESS',\r\n      });\r\n      toast.success('User updated successfully');\r\n      navigate('/admin/users');\r\n    } catch (error) {\r\n      toast.error(getError(error));\r\n      dispatch({ type: 'UPDATE_FAIL' });\r\n    }\r\n  };\r\n  return (\r\n    <Container className=\"small-container\">\r\n      <Helmet>\r\n        <title>Edit User ${userId}</title>\r\n      </Helmet>\r\n      <h1>Edit User {userId}</h1>\r\n\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group className=\"mb-3\" controlId=\"firstName\">\r\n            <Form.Label>Nom</Form.Label>\r\n            <Form.Control\r\n              value={firstName}\r\n              onChange={(e) => setfirstName(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"lastName\">\r\n            <Form.Label>Prénom</Form.Label>\r\n            <Form.Control\r\n              value={lastName}\r\n              onChange={(e) => setLastName(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"email\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              value={email}\r\n              type=\"email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Check\r\n            className=\"mb-3\"\r\n            type=\"checkbox\"\r\n            id=\"isAdmin\"\r\n            label=\"isAdmin\"\r\n            checked={isAdmin}\r\n            onChange={(e) => setIsAdmin(e.target.checked)}\r\n          />\r\n\r\n          <div className=\"mb-3\">\r\n            <Button disabled={loadingUpdate} type=\"submit\">\r\n              Update\r\n            </Button>\r\n            {loadingUpdate && <LoadingBox></LoadingBox>}\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport {\r\n  LoadScript,\r\n  GoogleMap,\r\n  StandaloneSearchBox,\r\n  Marker,\r\n} from '@react-google-maps/api';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Store } from '../Store';\r\nimport { Button } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst defaultLocation = { lat: 45.516, lng: -73.56 };\r\nconst libs = ['places'];\r\n\r\nexport default function MapPage() {\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { userInfo } = state;\r\n  const navigate = useNavigate();\r\n  const [googleApiKey, setGoogleApiKey] = useState('');\r\n  const [center, setCenter] = useState(defaultLocation);\r\n  const [location, setLocation] = useState(center);\r\n\r\n  const mapRef = useRef(null);\r\n  const placeRef = useRef(null);\r\n  const markerRef = useRef(null);\r\n\r\n  const getUserCurrentLocation = () => {\r\n    if (!navigator.geolocation) {\r\n      alert('Geolocation os not supported by this browser');\r\n    } else {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        setCenter({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        });\r\n        setLocation({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        });\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n      const { data } = await axios('/api/keys/google', {\r\n        headers: { Authorization: `BEARER ${userInfo.token}` },\r\n      });\r\n      setGoogleApiKey(data.key);\r\n      getUserCurrentLocation();\r\n    };\r\n\r\n    fetch();\r\n    ctxDispatch({\r\n      type: 'SET_FULLBOX_ON',\r\n    });\r\n  }, [ctxDispatch]);\r\n\r\n  const onLoad = (map) => {\r\n    mapRef.current = map;\r\n  };\r\n  const onIdle = () => {\r\n    setLocation({\r\n      lat: mapRef.current.center.lat(),\r\n      lng: mapRef.current.center.lng(),\r\n    });\r\n  };\r\n\r\n  const onLoadPlaces = (place) => {\r\n    placeRef.current = place;\r\n  };\r\n  const onPlacesChanged = () => {\r\n    const place = placeRef.current.getPlaces()[0].geometry.location;\r\n    setCenter({ lat: place.lat(), lng: place.lng() });\r\n    setLocation({ lat: place.lat(), lng: place.lng() });\r\n  };\r\n\r\n  const onMarkerLoad = (marker) => {\r\n    markerRef.current = marker;\r\n  };\r\n\r\n  const onConfirm = () => {\r\n    const places = placeRef.current.getPlaces() || [{}];\r\n    ctxDispatch({\r\n      type: 'SAVE_SHIPPING_ADDRESS_MAP_LOCATION',\r\n      payload: {\r\n        lat: location.lat,\r\n        lng: location.lng,\r\n        address: places[0].formatted_address,\r\n        name: places[0].name,\r\n        vicinity: places[0].vicinity,\r\n        googleAddressId: places[0].id,\r\n      },\r\n    });\r\n    toast.success('location selected successfully.');\r\n    navigate('/shipping');\r\n  };\r\n  return (\r\n    <div className=\"full-box\">\r\n      <LoadScript libraries={libs} googleMapsApiKey={googleApiKey}>\r\n        <GoogleMap\r\n          id=\"smaple-map\"\r\n          mapContainerStyle={{ height: '100%', width: '100%' }}\r\n          center={center}\r\n          zoom={15}\r\n          onLoad={onLoad}\r\n          onIdle={onIdle}\r\n        >\r\n          <StandaloneSearchBox\r\n            onLoad={onLoadPlaces}\r\n            onPlacesChanged={onPlacesChanged}\r\n          >\r\n            <div className=\"map-input-box\">\r\n              <input type=\"text\" placeholder=\"Enter your address\"></input>\r\n              <Button type=\"button\" onClick={onConfirm}>\r\n                Confirm\r\n              </Button>\r\n            </div>\r\n          </StandaloneSearchBox>\r\n          <Marker position={location} onLoad={onMarkerLoad}></Marker>\r\n        </GoogleMap>\r\n      </LoadScript>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter, Link, Route, Routes } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport HomePage from './pages/HomePage';\r\nimport ProductPage from './pages/ProductPage';\r\nimport {\r\n  Navbar,\r\n  Badge,\r\n  Nav,\r\n  NavDropdown,\r\n  Container,\r\n  Button,\r\n} from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Store } from './Store';\r\nimport CartPage from './pages/CartPage';\r\nimport SigninPage from './pages/SigninPage';\r\nimport ShippingAddressPage from './pages/ShippingAddressPage';\r\nimport SignupPage from './pages/SignupPage';\r\nimport PaymentMethodPage from './pages/PaymentMethodPage';\r\nimport PlaceOrderPage from './pages/PlaceOrderPage';\r\nimport OrderPage from './pages/OrderPage';\r\nimport OrderHistoryPage from './pages/OrderHistoryPage';\r\nimport ProfilePage from './pages/ProfilePage';\r\nimport { getError } from './utils';\r\nimport axios from 'axios';\r\nimport SearchBox from './components/SearchBox';\r\nimport SearchPage from './pages/SearchPage';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\nimport DashboardPage from './pages/DashboardPage';\r\nimport AdminRoute from './components/AdminRoute';\r\nimport ProductListPage from './pages/ProductListPage';\r\nimport ProductEditPage from './pages/ProductEditPage';\r\nimport OrderListPage from './pages/OrderListPage';\r\nimport UserListPage from './pages/UserListPage';\r\nimport UserEditPage from './pages/UserEditPage';\r\nimport MapPage from './pages/MapPage';\r\n\r\nfunction App() {\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { fullBox, cart, userInfo } = state;\r\n\r\n  const signoutHandler = () => {\r\n    ctxDispatch({ type: 'USER_SIGNOUT' });\r\n    localStorage.removeItem('userInfo');\r\n    localStorage.removeItem('shippingAddress');\r\n    localStorage.removeItem('paymentMethod');\r\n    window.location.href = '/signin';\r\n  };\r\n  const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const { data } = await axios.get(`/api/products/categories`);\r\n        setCategories(data);\r\n      } catch (err) {\r\n        toast.error(getError(err));\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n  return (\r\n    <BrowserRouter>\r\n      <div\r\n        className={\r\n          sidebarIsOpen\r\n            ? fullBox\r\n              ? 'site-container active-cont d-flex flex-column full-box'\r\n              : 'site-container active-cont d-flex flex-column'\r\n            : fullBox\r\n            ? 'site-container d-flex flex-column full-box'\r\n            : 'site-container d-flex flex-column'\r\n        }\r\n      >\r\n        <ToastContainer position=\"bottom-center\" limit={1} />\r\n        <header>\r\n          <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n            <Container>\r\n              <Button\r\n                variant=\"dark\"\r\n                onClick={() => setSidebarIsOpen(!sidebarIsOpen)}\r\n              >\r\n                <i className=\"fas fa-bars\"></i>\r\n              </Button>\r\n\r\n              <LinkContainer to=\"/\">\r\n                <Navbar.Brand>full Eshop</Navbar.Brand>\r\n              </LinkContainer>\r\n              <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n              <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                <SearchBox />\r\n                <Nav className=\"me-auto  w-100  justify-content-end\">\r\n                  <Link to=\"/cart\" className=\"nav-link\">\r\n                    <i className=\"fa-solid fa-cart-shopping\"></i> Panier{' '}\r\n                    {cart.cartItems.length > 0 && (\r\n                      <Badge pill bg=\"danger\">\r\n                        {cart.cartItems.reduce((a, c) => a + c.quantity, 0)}\r\n                      </Badge>\r\n                    )}\r\n                  </Link>\r\n                  {userInfo ? (\r\n                    <NavDropdown\r\n                      title={userInfo.lastName + ' ' + userInfo.firstName}\r\n                      id=\"basic-nav-dropdown\"\r\n                    >\r\n                      <LinkContainer to=\"/profile\">\r\n                        <NavDropdown.Item>Profil</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/orderhistory\">\r\n                        <NavDropdown.Item>Historique</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <NavDropdown.Divider />\r\n                      <Link\r\n                        className=\"dropdown-item\"\r\n                        to=\"#signout\"\r\n                        onClick={signoutHandler}\r\n                      >\r\n                        Déconnexion\r\n                      </Link>\r\n                    </NavDropdown>\r\n                  ) : (\r\n                    <Link className=\"nav-link\" to=\"/signin\">\r\n                      <i className=\"fa-solid fa-arrow-right-to-bracket\"></i>{' '}\r\n                      Connexion\r\n                    </Link>\r\n                  )}\r\n\r\n                  {!userInfo && (\r\n                    <Link className=\"nav-link\" to=\"/signup\">\r\n                      <i className=\"fa-solid fa-pen\"></i> Inscription\r\n                    </Link>\r\n                  )}\r\n\r\n                  {userInfo && userInfo.isAdmin && (\r\n                    <NavDropdown title=\"Admin\" id=\"admin-nav-dropdown\">\r\n                      <LinkContainer to=\"/admin/dashboard\">\r\n                        <NavDropdown.Item>Tableau de bord</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/products\">\r\n                        <NavDropdown.Item>Produits</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/orders\">\r\n                        <NavDropdown.Item>Commandes</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/users\">\r\n                        <NavDropdown.Item>Utilisateurs</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                    </NavDropdown>\r\n                  )}\r\n                </Nav>\r\n              </Navbar.Collapse>\r\n            </Container>\r\n          </Navbar>\r\n        </header>\r\n        <div\r\n          className={\r\n            sidebarIsOpen\r\n              ? 'active-nav side-navbar d-flex justify-content-between flex-wrap flex-column'\r\n              : 'side-navbar d-flex justify-content-between flex-wrap flex-column'\r\n          }\r\n        >\r\n          <Nav className=\"flex-column text-white w-100 p-2\">\r\n            <Nav.Item>\r\n              <strong>Categories</strong>\r\n            </Nav.Item>\r\n            {categories.map((category) => (\r\n              <Nav.Item key={category}>\r\n                <LinkContainer\r\n                  to={`/search?category=${category}`}\r\n                  onClick={() => setSidebarIsOpen(false)}\r\n                >\r\n                  <Nav.Link>{category}</Nav.Link>\r\n                </LinkContainer>\r\n              </Nav.Item>\r\n            ))}\r\n          </Nav>\r\n        </div>\r\n        <main>\r\n          <Container className=\"mt-3\">\r\n            <Routes>\r\n              <Route path=\"/product/:slug\" element={<ProductPage />} />\r\n              <Route path=\"/cart\" element={<CartPage />} />\r\n              <Route path=\"/search\" element={<SearchPage />} />\r\n              <Route path=\"/signin\" element={<SigninPage />} />\r\n              <Route path=\"/signup\" element={<SignupPage />} />\r\n              <Route\r\n                path=\"/profile\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <ProfilePage />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/map\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <MapPage />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route path=\"/placeorder\" element={<PlaceOrderPage />} />\r\n              <Route\r\n                path=\"/order/:id\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <OrderPage />\r\n                  </ProtectedRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/orderhistory\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <OrderHistoryPage />\r\n                  </ProtectedRoute>\r\n                }\r\n              ></Route>\r\n              <Route path=\"/shipping\" element={<ShippingAddressPage />}></Route>\r\n              <Route path=\"/payment\" element={<PaymentMethodPage />}></Route>\r\n              {/* Admin Routes */}\r\n              <Route\r\n                path=\"/admin/dashboard\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <DashboardPage />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/orders\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <OrderListPage />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/users\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <UserListPage />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/products\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <ProductListPage />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/product/:id\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <ProductEditPage />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/user/:id\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <UserEditPage />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n\r\n              <Route path=\"/\" element={<HomePage />} />\r\n            </Routes>\r\n          </Container>\r\n        </main>\r\n        <footer>\r\n          <div className=\"text-center\">All rights reserved</div>\r\n        </footer>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { HelmetProvider } from 'react-helmet-async';\r\nimport { PayPalScriptProvider } from '@paypal/react-paypal-js';\r\nimport { StoreProvider } from './Store';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <StoreProvider>\r\n      <HelmetProvider>\r\n        <PayPalScriptProvider deferLoading={true}>\r\n          <App />\r\n        </PayPalScriptProvider>\r\n      </HelmetProvider>\r\n    </StoreProvider>\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}